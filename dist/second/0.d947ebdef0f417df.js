"use strict";(self.webpackChunksecond=self.webpackChunksecond||[]).push([[0],{6e3:(v,g,d)=>{d.r(g),d.d(g,{CocktailModule:()=>T});var p=d(9808),a=d(5358),t=d(1223),m=d(614),C=d(520);let u=(()=>{class n{constructor(e){this.http=e,this.url="http://20.39.234.201:8080/cocktails"}getAllCocktails(){return this.http.get(this.url)}getCocktail(e){return this.http.get(this.url+"/"+e)}addCocktail(e){return this.http.put(this.url,e)}updateCocktail(e){return this.http.patch(this.url+"/"+e.id,e)}deleteCocktail(e){return this.http.delete(this.url+"/"+e)}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(C.eN))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var r=d(2382);let h=(()=>{class n{constructor(e,o,s){this.tokenService=e,this.cocktailService=o,this.router=s,this.cocktail={user_id:0,nom:"",description:"",recette:""}}ngOnInit(){}onSubmit(){let e=this.tokenService.getPayload();this.cocktail.user_id=e.id,this.cocktailService.addCocktail(this.cocktail).subscribe(()=>this.router.navigate(["/admin/cocktails"]),o=>console.log(o))}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(m.B),t.Y36(u),t.Y36(a.F0))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-c-add"]],decls:20,vars:3,consts:[["name","form",3,"ngSubmit"],["f","ngForm"],[1,"form-group"],["for","nom"],["type","text","id","nom","name","nom",3,"ngModel","ngModelChange"],["nom","ngModel"],["for","description"],["type","text","id","description","name","description",3,"ngModel","ngModelChange"],["description","ngModel"],["for","recette"],["type","text","id","recette","name","recette",3,"ngModel","ngModelChange"],["recette","ngModel"],["type","submit"]],template:function(e,o){if(1&e){const s=t.EpF();t.TgZ(0,"form",0,1),t.NdJ("ngSubmit",function(){return t.CHM(s),t.MAs(1).form.valid&&o.onSubmit()}),t.TgZ(2,"div",2)(3,"label",3),t._uU(4,"Nom"),t.qZA(),t.TgZ(5,"input",4,5),t.NdJ("ngModelChange",function(c){return o.cocktail.nom=c}),t.qZA()(),t.TgZ(7,"div",2)(8,"label",6),t._uU(9,"Description"),t.qZA(),t.TgZ(10,"input",7,8),t.NdJ("ngModelChange",function(c){return o.cocktail.description=c}),t.qZA()(),t.TgZ(12,"div",2)(13,"label",9),t._uU(14,"Recette"),t.qZA(),t.TgZ(15,"input",10,11),t.NdJ("ngModelChange",function(c){return o.cocktail.recette=c}),t.qZA()(),t.TgZ(17,"div",2)(18,"button",12),t._uU(19,"Ajouter"),t.qZA()()()}2&e&&(t.xp6(5),t.Q6J("ngModel",o.cocktail.nom),t.xp6(5),t.Q6J("ngModel",o.cocktail.description),t.xp6(5),t.Q6J("ngModel",o.cocktail.recette))},directives:[r._Y,r.JL,r.F,r.Fj,r.JJ,r.On],styles:[""]}),n})(),_=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-c-delete"]],decls:2,vars:0,template:function(e,o){1&e&&(t.TgZ(0,"p"),t._uU(1,"c-delete works!"),t.qZA())},styles:[""]}),n})(),f=(()=>{class n{constructor(e,o,s){this.router=e,this.activated=o,this.cocktailService=s,this.cocktail={id:0,user_id:0,nom:"",description:"",recette:"",updatedAt:"",createdAt:"",deletedAt:null}}ngOnInit(){let e=this.activated.snapshot.paramMap.get("cid");this.cocktailService.getCocktail(e).subscribe(o=>this.cocktail=o.data,o=>console.log(o))}onSubmit(){this.cocktailService.updateCocktail(this.cocktail).subscribe(()=>this.router.navigate(["/admin/cocktails"]),e=>console.log(e))}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(a.F0),t.Y36(a.gz),t.Y36(u))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-c-edit"]],decls:22,vars:3,consts:[["name","form",3,"ngSubmit"],["f","ngForm"],[1,"form-group"],["for","nom"],["type","text","id","nom","name","nom",3,"ngModel","ngModelChange"],["nom","ngModel"],["for","description"],["type","text","id","description","name","description",3,"ngModel","ngModelChange"],["description","ngModel"],["for","recette"],["type","text","id","recette","name","recette",3,"ngModel","ngModelChange"],["recette","ngModel"],["type","submit"]],template:function(e,o){if(1&e){const s=t.EpF();t.TgZ(0,"p"),t._uU(1,"c-edit works!"),t.qZA(),t.TgZ(2,"form",0,1),t.NdJ("ngSubmit",function(){return t.CHM(s),t.MAs(3).form.valid&&o.onSubmit()}),t.TgZ(4,"div",2)(5,"label",3),t._uU(6,"Nom"),t.qZA(),t.TgZ(7,"input",4,5),t.NdJ("ngModelChange",function(c){return o.cocktail.nom=c}),t.qZA()(),t.TgZ(9,"div",2)(10,"label",6),t._uU(11,"Description"),t.qZA(),t.TgZ(12,"input",7,8),t.NdJ("ngModelChange",function(c){return o.cocktail.description=c}),t.qZA()(),t.TgZ(14,"div",2)(15,"label",9),t._uU(16,"Recette"),t.qZA(),t.TgZ(17,"input",10,11),t.NdJ("ngModelChange",function(c){return o.cocktail.recette=c}),t.qZA()(),t.TgZ(19,"div",2)(20,"button",12),t._uU(21,"Modifier"),t.qZA()()()}2&e&&(t.xp6(7),t.Q6J("ngModel",o.cocktail.nom),t.xp6(5),t.Q6J("ngModel",o.cocktail.description),t.xp6(5),t.Q6J("ngModel",o.cocktail.recette))},directives:[r._Y,r.JL,r.F,r.Fj,r.JJ,r.On],styles:[""]}),n})();const k=function(n){return["edit",n]};function Z(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"tr")(1,"td")(2,"a",1),t._uU(3),t.qZA()(),t.TgZ(4,"td"),t._uU(5),t.qZA(),t.TgZ(6,"td"),t._uU(7),t.qZA(),t.TgZ(8,"td"),t._uU(9),t.qZA(),t.TgZ(10,"td"),t._uU(11),t.qZA(),t.TgZ(12,"td"),t._uU(13),t.ALo(14,"date"),t.qZA(),t.TgZ(15,"td")(16,"span",2),t.NdJ("click",function(){const l=t.CHM(e).$implicit;return t.oxw().delete(l.id)}),t._uU(17,"X"),t.qZA()()()}if(2&n){const e=i.$implicit;t.xp6(2),t.Q6J("routerLink",t.VKq(10,k,e.id)),t.xp6(1),t.Oqu(e.id),t.xp6(2),t.Oqu(e.user_id),t.xp6(2),t.Oqu(e.nom),t.xp6(2),t.Oqu(e.description),t.xp6(2),t.Oqu(e.recette),t.xp6(2),t.Oqu(t.xi3(14,7,e.createdAt,"dd/MM/yyyy"))}}const M=[{path:"",component:(()=>{class n{constructor(e){this.cocktailService=e,this.cocktailList=[]}ngOnInit(){this.cocktailService.getAllCocktails().subscribe(e=>{this.cocktailList=e.data},e=>console.log(e))}delete(e){this.cocktailService.deleteCocktail(e).subscribe(()=>{this.cocktailList=this.cocktailList.filter(o=>o.id!==e)},o=>console.log(o))}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(u))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-c-index"]],decls:19,vars:1,consts:[[4,"ngFor","ngForOf"],[3,"routerLink"],[1,"delete",3,"click"]],template:function(e,o){1&e&&(t.TgZ(0,"table")(1,"thead")(2,"tr")(3,"th"),t._uU(4,"#"),t.qZA(),t.TgZ(5,"th"),t._uU(6,"UID"),t.qZA(),t.TgZ(7,"th"),t._uU(8,"Nom"),t.qZA(),t.TgZ(9,"th"),t._uU(10,"Description"),t.qZA(),t.TgZ(11,"th"),t._uU(12,"Recette"),t.qZA(),t.TgZ(13,"th"),t._uU(14,"Dt Cr\xe9ation"),t.qZA(),t.TgZ(15,"th"),t._uU(16,"\xa0"),t.qZA()()(),t.TgZ(17,"tbody"),t.YNc(18,Z,18,12,"tr",0),t.qZA()()),2&e&&(t.xp6(18),t.Q6J("ngForOf",o.cocktailList))},directives:[p.sg,a.yS],pipes:[p.uU],styles:["table[_ngcontent-%COMP%]{width:100%}.delete[_ngcontent-%COMP%]{color:red;cursor:pointer;border:solid 1px red;height:21px;width:21px;display:block;text-align:center;line-height:21px;border-radius:21px;font-size:13px}"]}),n})()},{path:"edit/:cid",component:f},{path:"add",component:h},{path:"delete/:cid",component:_}];let A=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[a.Bz.forChild(M)],a.Bz]}),n})(),T=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[p.ez,A,r.u5]]}),n})()}}]);